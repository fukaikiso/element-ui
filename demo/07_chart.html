<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>02_chart.html</title>
</head>

<body>
  <canvas id="cvs" width="450" height="260" style="border:1px solid black; background:aliceblue">
  </canvas>
  <script>
    // 准备数据
    const CWIDTH = 450;   // 画布宽
    const CHEIGHT = 260;  // 画布高
    let barWidth = 50;    // 柱子的宽度
    let data = [130, 200, 150, 50, 90, 110, 160];  // 数据
    // 计算绘制柱状图所需要的的参数  需要计算得到7组：[x,y,w,h]
    let xs = [];    // 保存7根柱子的x坐标
    let ys = [];    // 保存7根柱子的y坐标
    let ws = [];    // 保存7根柱子的宽
    let hs = [];    // 保存7根柱子的高
    let space = (CWIDTH - barWidth * data.length) / (data.length + 1);
    console.log(space);
    // 为上述数组添加元素
    for (let i = 0; i < data.length; i++) {  // 遍历data
      xs.push(i * barWidth + (i + 1) * space);
      ys.push(CHEIGHT - data[i]);
      ws.push(barWidth);
      hs.push(data[i]);
    }
    // 数据已经准备完毕，开始绘制
    /** @type {HTMLCanvasElement} */
    let ctx = cvs.getContext('2d');  // 上下文
    for (let i = 0; i < data.length; i++) { // 遍历绘制7根柱子
      ctx.fillStyle = '#33a';
      ctx.fillRect(xs[i], ys[i], ws[i], hs[i]);
    }


  </script>
</body>

</html>